# ğŸŒ™ Succubus Realm

é­…æƒ‘ã®ã‚µã‚­ãƒ¥ãƒã‚¹ãƒãƒƒãƒãƒ³ã‚°ã‚¢ãƒ—ãƒª - ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ä»˜ãé–‹ç™ºç’°å¢ƒ

## ğŸ“– æ¦‚è¦

Succubus Realm ã¯ã€ã‚µã‚­ãƒ¥ãƒã‚¹ã¨ã®ãƒãƒƒãƒãƒ³ã‚°ã‚’æ¥½ã—ã‚€ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚Express.js ãƒ™ãƒ¼ã‚¹ã®ã‚µãƒ¼ãƒãƒ¼ã¨ WebSocket ã‚’ä½¿ç”¨ã—ãŸãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã«ã‚ˆã‚Šã€å¿«é©ãªé–‹ç™ºä½“é¨“ã‚’æä¾›ã—ã¾ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½

- ğŸ”¥ **ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰** - ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´æ™‚ã®è‡ªå‹•ãƒ–ãƒ©ã‚¦ã‚¶ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
- ğŸ’« **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡** - WebSocket ã«ã‚ˆã‚‹å³åº§ã®æ›´æ–°
- âš¡ **é«˜é€Ÿé–‹ç™º** - ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªé–‹ç™ºãƒ•ãƒ­ãƒ¼
- ğŸ¨ **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³** - ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œã®ãƒ¢ãƒ€ãƒ³ UI

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶

- Node.js 14.0.0 ä»¥ä¸Š
- npm

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone <repository-url>
cd succubus-realm
```

2. ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm run install-deps
```

3. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

```bash
copy .env.example .env
```

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
npm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:3000` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ã€‚

### æœ¬ç•ªç’°å¢ƒã§ã®èµ·å‹•

```bash
npm start
```

### Dockerã§ã®èµ·å‹•

DockerãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚³ãƒ³ãƒ†ãƒŠã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦å®Ÿè¡Œã§ãã¾ã™ã€‚

1.  **Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰**

    ```bash
    docker build -t succubus-realm .
    ```

2.  **Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’å®Ÿè¡Œ**

    ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã™ã‚‹éš›ã«ã€ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ç’°å¢ƒå¤‰æ•° `HOST` ã‚’ `0.0.0.0` ã«è¨­å®šã—ã¾ã™ã€‚

    ```bash
    docker run -d -p 3000:3000 -e HOST=0.0.0.0 succubus-realm
    ```

    ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:3000` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ã€‚

    > **Note:**
    > `-e HOST=0.0.0.0` ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€Dockerã‚³ãƒ³ãƒ†ãƒŠå†…ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã€ã‚³ãƒ³ãƒ†ãƒŠã®å¤–éƒ¨ã‹ã‚‰ã®æ¥ç¶šã‚’å—ã‘ä»˜ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ï¼ˆã‚ãªãŸã®PCï¼‰ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ `localhost:3000` ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

## ğŸ› ï¸ è¨­å®š

### ç’°å¢ƒå¤‰æ•°

`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã§ä»¥ä¸‹ã®è¨­å®šãŒå¯èƒ½ã§ã™ï¼š

```env
PORT=3000          # ã‚µãƒ¼ãƒãƒ¼ãƒãƒ¼ãƒˆ
HOST=localhost     # ã‚µãƒ¼ãƒãƒ¼ãƒ›ã‚¹ãƒˆ
NODE_ENV=development  # ç’°å¢ƒè¨­å®š
DEBUG=false        # ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰
```

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

`config.js`ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è©³ç´°è¨­å®šã‚’å¤‰æ›´ã§ãã¾ã™ï¼š

- ã‚µãƒ¼ãƒãƒ¼è¨­å®šï¼ˆãƒãƒ¼ãƒˆã€ãƒ›ã‚¹ãƒˆï¼‰
- ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–è¨­å®šï¼ˆç›£è¦–å¯¾è±¡ã€é™¤å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
- WebSocket è¨­å®šï¼ˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆï¼‰
- é–‹ç™ºç’°å¢ƒè¨­å®šï¼ˆãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã€ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ï¼‰

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
succubus-realm/
â”œâ”€â”€ .git/               # Gitç®¡ç†ãƒ•ã‚©ãƒ«ãƒ€
â”œâ”€â”€ .kiro/              # Kiro IDEè¨­å®šãƒ»ä»•æ§˜ãƒ•ã‚©ãƒ«ãƒ€
â”‚   â””â”€â”€ specs/          # æ©Ÿèƒ½ä»•æ§˜æ›¸
â”œâ”€â”€ .vscode/            # VS Codeè¨­å®š
â”œâ”€â”€ node_modules/       # npmä¾å­˜é–¢ä¿‚
â”œâ”€â”€ tests/              # ãƒ†ã‚¹ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
â”‚   â”œâ”€â”€ unit/           # å˜ä½“ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ integration/    # çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ e2e/            # E2Eãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ __fixtures__/   # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ __helpers__/    # ãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼
â”‚   â””â”€â”€ test-setup.js   # ãƒ†ã‚¹ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”œâ”€â”€ config.js           # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
â”œâ”€â”€ server.js           # Express ã‚µãƒ¼ãƒãƒ¼
â”œâ”€â”€ package.json        # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
â”œâ”€â”€ package-lock.json   # ä¾å­˜é–¢ä¿‚ãƒ­ãƒƒã‚¯
â”œâ”€â”€ vitest.config.js    # Vitestãƒ†ã‚¹ãƒˆè¨­å®š
â”œâ”€â”€ playwright.config.js # Playwrightãƒ†ã‚¹ãƒˆè¨­å®š
â”œâ”€â”€ index.html          # ãƒ¡ã‚¤ãƒ³HTML
â”œâ”€â”€ style.css           # ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â”œâ”€â”€ script.js           # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰JS
â”œâ”€â”€ succubi-data.json   # ã‚µã‚­ãƒ¥ãƒã‚¹ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ likes-data.json     # ã„ã„ã­ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ .env.example        # ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ .gitignore          # Gité™¤å¤–è¨­å®š
â”œâ”€â”€ Dockerfile          # Dockerè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ README.md           # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

### .kiro ãƒ•ã‚©ãƒ«ãƒ€ã«ã¤ã„ã¦

`.kiro/`ãƒ•ã‚©ãƒ«ãƒ€ã¯ Kiro IDE ã®è¨­å®šã¨ä»•æ§˜ç®¡ç†ã«ä½¿ç”¨ã•ã‚Œã¾ã™ï¼š

- **specs/** - æ©Ÿèƒ½ä»•æ§˜æ›¸ã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ ¼ç´
- **steering/** - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã® AI æŒ‡ç¤ºã‚„ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ï¼ˆå­˜åœ¨ã™ã‚‹å ´åˆï¼‰
- **settings/** - Kiro IDE å›ºæœ‰ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆå­˜åœ¨ã™ã‚‹å ´åˆï¼‰

ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã¯ Kiro IDE ã§ã®é–‹ç™ºä½“é¨“ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹é€ åŒ–ã•ã‚ŒãŸé–‹ç™ºãƒ—ãƒ­ã‚»ã‚¹ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

## ğŸ”§ é–‹ç™º

### ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–

ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—ãŒè‡ªå‹•ç›£è¦–ã•ã‚Œã¾ã™ï¼š

- `*.html`
- `*.css`
- `*.js`
- `*.json`

ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã™ã‚‹ã¨ã€æ¥ç¶šä¸­ã®ãƒ–ãƒ©ã‚¦ã‚¶ãŒè‡ªå‹•çš„ã«ãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚

### WebSocket é€šä¿¡

ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãƒ¼é–“ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡ã‚’è¡Œã„ã€ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã‚’å³åº§ã«åæ˜ ã—ã¾ã™ã€‚

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### ãƒ†ã‚¹ãƒˆæ§‹é€ 

```text
tests/
â”œâ”€â”€ unit/                          # å˜ä½“ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ like-manager.test.js
â”‚   â””â”€â”€ like-manager-validation.test.js
â”œâ”€â”€ integration/                   # çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ likes-api.test.js
â”‚   â”‚   â””â”€â”€ characters-api.test.js
â”‚   â”œâ”€â”€ data-persistence.test.js
â”‚   â”œâ”€â”€ data-persistence-vitest.test.js
â”‚   â”œâ”€â”€ data-persistence-system-restart.test.js
â”‚   â”œâ”€â”€ error-handling.test.js
â”‚   â””â”€â”€ main-integration.test.js
â”œâ”€â”€ e2e/                          # E2Eãƒ†ã‚¹ãƒˆ (Playwright)
â”‚   â”œâ”€â”€ user-flows/
â”‚   â”‚   â”œâ”€â”€ character-swiping.spec.js
â”‚   â”‚   â”œâ”€â”€ like-functionality.spec.js
â”‚   â”‚   â””â”€â”€ modal-interactions.spec.js
â”‚   â”œâ”€â”€ fixtures/
â”‚   â”‚   â””â”€â”€ test-data.json
â”‚   â””â”€â”€ page-objects/
â”‚       â”œâ”€â”€ main-page.js
â”‚       â””â”€â”€ character-modal.js
â”œâ”€â”€ __fixtures__/                 # å…±é€šãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ characters.json
â”‚   â””â”€â”€ likes.json
â”œâ”€â”€ __helpers__/                  # ãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼
â”‚   â”œâ”€â”€ test-server.js
â”‚   â””â”€â”€ test-utils.js
â””â”€â”€ test-setup.js                # ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š
```

### ãƒ†ã‚¹ãƒˆã‚³ãƒãƒ³ãƒ‰

- `npm test` - å˜ä½“ãƒ»çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ (Vitest)
- `npm run test:watch` - ãƒ†ã‚¹ãƒˆç›£è¦–ãƒ¢ãƒ¼ãƒ‰
- `npm run test:e2e` - E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œ (Playwright)
- `npm run test:coverage` - ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

### ãƒ†ã‚¹ãƒˆç’°å¢ƒ

- **Unit/Integration**: Vitest + jsdom
- **E2E**: Playwright (Chromium, Firefox, WebKitå¯¾å¿œ)
- **Coverage**: v8ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ (ç›®æ¨™: 70%ä»¥ä¸Š)

## ğŸ“ ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

- `npm start` - æœ¬ç•ªç’°å¢ƒã§ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
- `npm run dev` - é–‹ç™ºç’°å¢ƒã§ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
- `npm run install-deps` - å¿…è¦ãªä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- `npm run install-test-deps` - ãƒ†ã‚¹ãƒˆä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ¯ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Backend**: Node.js, Express.js
- **Frontend**: Vanilla JavaScript, HTML5, CSS3
- **WebSocket**: ws
- **File Watching**: chokidar
- **Environment**: dotenv

---

Made with ğŸ’œ by Kiro
